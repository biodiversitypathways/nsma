<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Alex MacPhail">
<meta name="dcterms.date" content="2025-06-02">

<title>Report on the use of passive acoustic monitoring for the North Slave Métis Alliance</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="nsma_files/libs/clipboard/clipboard.min.js"></script>
<script src="nsma_files/libs/quarto-html/quarto.js"></script>
<script src="nsma_files/libs/quarto-html/popper.min.js"></script>
<script src="nsma_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="nsma_files/libs/quarto-html/anchor.min.js"></script>
<link href="nsma_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="nsma_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="nsma_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="nsma_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="nsma_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<link href="nsma_files/libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="nsma_files/libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<script src="nsma_files/libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="nsma_files/libs/leaflet-1.3.1/leaflet.css" rel="stylesheet">
<script src="nsma_files/libs/leaflet-1.3.1/leaflet.js"></script>
<link href="nsma_files/libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet">
<script src="nsma_files/libs/proj4-2.6.2/proj4.min.js"></script>
<script src="nsma_files/libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="nsma_files/libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet">
<script src="nsma_files/libs/leaflet-binding-2.2.2/leaflet.js"></script>
<link href="nsma_files/libs/leaflet-measure-2.1.7/leaflet-measure.css" rel="stylesheet">
<script src="nsma_files/libs/leaflet-measure-2.1.7/leaflet-measure.min.js"></script>
<link href="nsma_files/libs/leaflet-minimap-3.3.1/Control.MiniMap.min.css" rel="stylesheet">
<script src="nsma_files/libs/leaflet-minimap-3.3.1/Control.MiniMap.min.js"></script>
<script src="nsma_files/libs/leaflet-minimap-3.3.1/Minimap-binding.js"></script>
<link href="nsma_files/libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="nsma_files/libs/datatables-binding-0.33/datatables.js"></script>
<link href="nsma_files/libs/dt-core-1.13.6/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="nsma_files/libs/dt-core-1.13.6/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="nsma_files/libs/dt-core-1.13.6/js/jquery.dataTables.min.js"></script>
<link href="nsma_files/libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">
<script src="nsma_files/libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>


</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article toc-left">
<div id="quarto-sidebar-toc-left" class="sidebar toc-left">
  <nav id="TOC" role="doc-toc" class="toc-active" data-toc-expanded="99">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#abstract" id="toc-abstract" class="nav-link active" data-scroll-target="#abstract">Abstract</a></li>
  <li><a href="#land-acknowledgement" id="toc-land-acknowledgement" class="nav-link" data-scroll-target="#land-acknowledgement">Land Acknowledgement</a></li>
  <li><a href="#introduction" id="toc-introduction" class="nav-link" data-scroll-target="#introduction">Introduction</a></li>
  <li><a href="#methods" id="toc-methods" class="nav-link" data-scroll-target="#methods">Methods</a></li>
  <li><a href="#results" id="toc-results" class="nav-link" data-scroll-target="#results">Results</a></li>
  <li><a href="#discussion" id="toc-discussion" class="nav-link" data-scroll-target="#discussion">Discussion</a></li>
  </ul>
</nav>
</div>
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
</div>
<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Report on the use of passive acoustic monitoring for the North Slave Métis Alliance</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Alex MacPhail </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">June 2, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<p><img src=".png" class="img-fluid"></p>
<section id="abstract" class="level1">
<h1>Abstract</h1>
</section>
<section id="land-acknowledgement" class="level1">
<h1>Land Acknowledgement</h1>
<p>We acknowledge the traditional lands and territories of the North Slave Métis Alliance (NSMA), whose members trace their origins to the early unions of French fur-traders and Indigenous women of the Great Slave Lake region. The Métis of this area have long existed as a distinct and vibrant community, exercising their harvesting rights across the Northwest Territories and beyond. We honor their continued stewardship of these lands and their rights recognized under section 35(1) of the Constitution Act, 1982.</p>
</section>
<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>Human activities have been identified as key pressures and contributors to the global decline in forest wildlife (<span class="citation" data-cites="allan2017recent">Allan et al. (<a href="#ref-allan2017recent" role="doc-biblioref">2017</a>)</span>). The repercussions of habitat fragmentation (<span class="citation" data-cites="fahrig2003effects">Fahrig (<a href="#ref-fahrig2003effects" role="doc-biblioref">2003</a>)</span>) and loss (<span class="citation" data-cites="hanski2011habitat">Hanski (<a href="#ref-hanski2011habitat" role="doc-biblioref">2011</a>)</span>), climate change (<span class="citation" data-cites="mantyka2012interactions">Mantyka-pringle, Martin, and Rhodes (<a href="#ref-mantyka2012interactions" role="doc-biblioref">2012</a>)</span>, <span class="citation" data-cites="sattar2021review">Sattar et al. (<a href="#ref-sattar2021review" role="doc-biblioref">2021</a>)</span>, <span class="citation" data-cites="abrahms2023climate">Abrahms et al. (<a href="#ref-abrahms2023climate" role="doc-biblioref">2023</a>)</span>), and increased access to sensitive areas exert direct and indirect pressures on forest biodiversity, particularly in managed regions in Canada (<span class="citation" data-cites="lemieux2011state">Lemieux et al. (<a href="#ref-lemieux2011state" role="doc-biblioref">2011</a>)</span>). Climate change and increasing wildfire activity in the western and northern boreal have significantly impacted.</p>
<p>In 2023, the North Slave Métis Alliance initiated a program incorporating autonomous recording units (ARUs) for passive acoustic monitoring of the vocalizing wildlife. ARUs are compact environmental sensors that are designed to passively record the environment (<span class="citation" data-cites="aru-overview">Shonfield and Bayne (<a href="#ref-aru-overview" role="doc-biblioref">2017</a>)</span>), capturing vocalizing species like birds and amphibians, which is growing in use across the globe (<span class="citation" data-cites="lots-of-pam">Sugai et al. (<a href="#ref-lots-of-pam" role="doc-biblioref">2018</a>)</span>). This technology enables resource managers to conduct prolonged surveys with minimal human interference. The subsequent data collected by these units contribute valuable information to metrics that can be used to study species trends over time, whereby this data aids decision-making and management within the region. Given the rapid and ease of accumulating data from these units, maintaining a high standard of data integrity is paramount to ensure future data interoperability and sharing. <a href="https://www.wildtrax.ca">WildTrax</a> is an online platform developed by the <a href="https://abmi.ca">Alberta Biodiversity Monitoring Institute (<strong>ABMI</strong>)</a> for users of environmental sensors to help addresses these big data challenges by providing solutions to standardize, harmonize, and share data.</p>
<p>The report summarizes the collected from the ARUs by the NSMA for 2023 and 2024. To enhance accessibility and reproducibility, the findings will be presented in this online report with fully documented code, allowing future updates as data collection methods become standardized. Additionally, recommendations will be developed to refine data transcription priorities, improve annual reporting methods, and evaluate recommendations for long-term monitoring. The objectives of this report are to:</p>
<ul>
<li>Document and standardize the data management and processing procedures for acoustic data collected from 2023 to 2024 to ensure consistency and reproducibility.</li>
<li>Provide a comprehensive report detailing all detected species and the abundance of individuals within the surveyed area.</li>
<li>Facilitate the publication of data, making it accessible to the community, public, resource managers, academic institutions, and other relevant agencies to promote transparency and collaboration.</li>
<li>Use evaluation results to establish robust metrics that can inform long-term monitoring and conservation strategies.</li>
</ul>
</section>
<section id="methods" class="level1">
<h1>Methods</h1>
<p>ARUs were deployed in 2023 and 2024. 2023 saw 8 locations surveyed between Whatì (63.10753, -116.9763) and Tibbit Lake (62.5474, -113.3551). In 2024, 12 sampling locations were surveyd with 4 additional sites. A summary of locations sampled can be found at</p>
<div class="cell" data-layout-align="center">
<div id="fig-aru-monitoring-locations" class="cell-output-display quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-aru-monitoring-locations-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="leaflet html-widget html-fill-item" id="htmlwidget-85ba397b5cedb95d324e" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-85ba397b5cedb95d324e">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"https://openstreetmap.org/copyright/\">OpenStreetMap<\/a>,  <a href=\"https://opendatacommons.org/licenses/odbl/\">ODbL<\/a>"}]},{"method":"addCircleMarkers","args":[[62.647492,62.650842],[-115.819763,-115.818671],10,null,"2022 Locations",{"interactive":true,"className":"","stroke":true,"color":"yellow","weight":5,"opacity":0.5,"fill":true,"fillColor":"yellow","fillOpacity":0.2},null,null,["Location: OFR-2","Location: OLD-FORT-RAE_1"],null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addCircleMarkers","args":[[62.534174,62.49338,62.78182,62.534174,62.744257,62.547402,63.107529,62.525606],[-114.971513,-113.523101,-115.96222,-114.971513,-115.730311,-113.355105,-116.976336,-114.322183],10,null,"2023 Locations",{"interactive":true,"className":"","stroke":true,"color":"blue","weight":5,"opacity":0.5,"fill":true,"fillColor":"blue","fillOpacity":0.2},null,null,["Location: BOUNDARY-CREEK-1","Location: CAMERON-RIVER-1","Location: FRANK-CHANNEL","Location: MOSQUITO-CREEK-1","Location: STAGG-RIVER-1","Location: TIBBIT-LAKE-1","Location: WHATI","Location: YELLOWKNIFE-RIVER-1"],null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addCircleMarkers","args":[[62.480933,62.534174,62.49338,62.78182,62.693669,62.058333,62.556306,62.556306,62.744257,62.547402,63.107529,62.525576],[-114.366678,-114.971513,-113.523101,-115.96222,-116.153511,-113.201111,-113.998146,-113.998146,-115.730311,-113.355105,-116.976336,-114.322165],10,null,"2024 Locations",{"interactive":true,"className":"","stroke":true,"color":"red","weight":5,"opacity":0.5,"fill":true,"fillColor":"red","fillOpacity":0.2},null,null,["Location: BAKER-CREEK","Location: BOUNDARY-CREEK-1","Location: CAMERON-RIVER-1","Location: FRANK-CHANNEL","Location: MOSQUITO-CREEK-2","Location: PAULINE-LAKE-3","Location: PRELUDE-LAKE-1","Location: PRELUDE-LAKE-2","Location: STAGG-RIVER-1","Location: TIBBIT-LAKE-1","Location: WHATI","Location: YELLOWKNIFE-RIVER-2"],null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addLayersControl","args":[[],["2022 Locations","2023 Locations","2024 Locations"],{"collapsed":false,"autoZIndex":true,"position":"topright"}]},{"method":"addMeasure","args":[{"position":"topright","primaryLengthUnit":"feet","primaryAreaUnit":"acres","activeColor":"#ABE67E","completedColor":"#C8F2BE","popupOptions":{"className":"leaflet-measure-resultpopup","autoPanPadding":[10,10]},"captureZIndex":10000,"localization":"en","decPoint":".","thousandsSep":","}]},{"method":"addMiniMap","args":[null,null,"bottomleft",150,150,19,19,-5,false,false,false,false,false,false,{"color":"#ff7800","weight":1,"clickable":false},{"color":"#000000","weight":1,"clickable":false,"opacity":0,"fillOpacity":0},{"hideText":"Hide MiniMap","showText":"Show MiniMap"},[]]}],"limits":{"lat":[62.058333,63.107529],"lng":[-116.976336,-113.201111]}},"evals":[],"jsHooks":[]}</script>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-aru-monitoring-locations-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: Locations from North Slave Métis Alliance ARU Monitoring Program
</figcaption>
</figure>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(locs_summary, </span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>          <span class="at">options =</span> <span class="fu">list</span>(</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>            <span class="at">searching =</span> <span class="cn">TRUE</span>,  </span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">paging =</span> <span class="cn">TRUE</span>,    </span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">pageLength =</span> <span class="dv">10</span>   </span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>          )) <span class="sc">|&gt;</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">formatStyle</span>(<span class="at">columns =</span> <span class="fu">colnames</span>(locs_summary), </span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>              <span class="at">backgroundColor =</span> <span class="fu">styleEqual</span>(<span class="fu">c</span>(<span class="st">"NA"</span>), <span class="st">"lightgray"</span>))  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div id="tbl-loc-summary" class="cell quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-loc-summary-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;1: Locations surveyed across years. Ones indicated a deployment in that year for that location.
</figcaption>
<div aria-describedby="tbl-loc-summary-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-220207ae47c3155ee0c1" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-220207ae47c3155ee0c1">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16"],["OFR-2","OLD-FORT-RAE_1","BOUNDARY-CREEK-1","CAMERON-RIVER-1","FRANK-CHANNEL","MOSQUITO-CREEK-1","STAGG-RIVER-1","TIBBIT-LAKE-1","WHATI","YELLOWKNIFE-RIVER-1","BAKER-CREEK","MOSQUITO-CREEK-2","PAULINE-LAKE-3","PRELUDE-LAKE-1","PRELUDE-LAKE-2","YELLOWKNIFE-RIVER-2"],[1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0],[0,0,1,1,1,0,1,1,1,0,1,1,1,1,1,1]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Location<\/th>\n      <th>2022<\/th>\n      <th>2023<\/th>\n      <th>2024<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"searching":true,"paging":true,"pageLength":10,"columnDefs":[{"className":"dt-right","targets":[2,3,4]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"Location","targets":1},{"name":"2022","targets":2},{"name":"2023","targets":3},{"name":"2024","targets":4}],"order":[],"autoWidth":false,"orderClasses":false,"rowCallback":"function(row, data, displayNum, displayIndex, dataIndex) {\nvar value=data[1]; $(this.api().cell(row, 1).node()).css({'background-color':value == \"NA\" ? \"lightgray\" : null});\nvar value=data[2]; $(this.api().cell(row, 2).node()).css({'background-color':value == \"NA\" ? \"lightgray\" : null});\nvar value=data[3]; $(this.api().cell(row, 3).node()).css({'background-color':value == \"NA\" ? \"lightgray\" : null});\nvar value=data[4]; $(this.api().cell(row, 4).node()).css({'background-color':value == \"NA\" ? \"lightgray\" : null});\n}"}},"evals":["options.rowCallback"],"jsHooks":[]}</script>
</div>
</div>
</figure>
</div>
</div>
</section>
<section id="results" class="level1 page-columns page-full">
<h1>Results</h1>
<div class="cell page-columns page-full" data-layout-align="center" data-cap-location="margin">
<div class="cell-output-display page-columns page-full">
<div id="fig-spp-rich-locs" class="quarto-float quarto-figure quarto-figure-center anchored page-columns page-full" data-cap-location="margin" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure page-columns page-full">
<div aria-describedby="fig-spp-rich-locs-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="nsma_files/figure-html/fig-spp-rich-locs-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-margin quarto-float-caption quarto-float-fig margin-caption" id="fig-spp-rich-locs-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2: Species richness at forest monitoring locations across years
</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="discussion" class="level1 unnumbered">


</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">Discussion</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-abrahms2023climate" class="csl-entry" role="listitem">
Abrahms, Briana, Neil H Carter, TJ Clark-Wolf, Kaitlyn M Gaynor, Erik Johansson, Alex McInturff, Anna C Nisi, Kasim Rafiq, and Leigh West. 2023. <span>“Climate Change as a Global Amplifier of Human–Wildlife Conflict.”</span> <em>Nature Climate Change</em> 13 (3): 224–34.
</div>
<div id="ref-ackleh2010measuring" class="csl-entry" role="listitem">
Ackleh, Azmy S, Jacoby Carter, Lauren Cole, Tom Nguyen, Jay Monte, and Claire Pettit. 2010. <span>“Measuring and Modeling the Seasonal Changes of an Urban Green Treefrog (Hyla Cinerea) Population.”</span> <em>Ecological Modelling</em> 221 (2): 281–89.
</div>
<div id="ref-allan2017recent" class="csl-entry" role="listitem">
Allan, James R, Oscar Venter, Sean Maxwell, Bastian Bertzky, Kendall Jones, Yichuan Shi, and James EM Watson. 2017. <span>“Recent Increases in Human Pressure and Forest Loss Threaten Many Natural World Heritage Sites.”</span> <em>Biological Conservation</em> 206: 47–55.
</div>
<div id="ref-vis-scan-amphs" class="csl-entry" role="listitem">
Cameron, J., A. Crosby, C. Paszkowski, and E. Bayne. 2020. <span>“Visual Spectrogram Scanning Paired with an Observation–Confirmation Occupancy Model Improves the Efficiency and Accuracy of Bioacoustic Anuran Data.”</span> <em>Canadian Journal of Zoology</em> 98 (11): 733–42. <a href="https://doi.org/10.1139/cjz-2020-0103">https://doi.org/10.1139/cjz-2020-0103</a>.
</div>
<div id="ref-devarajan2020multi" class="csl-entry" role="listitem">
Devarajan, Kadambari, Toni Lyn Morelli, and Simone Tenan. 2020. <span>“Multi-Species Occupancy Models: Review, Roadmap, and Recommendations.”</span> <em>Ecography</em> 43 (11): 1612–24.
</div>
<div id="ref-fahrig2003effects" class="csl-entry" role="listitem">
Fahrig, Lenore. 2003. <span>“Effects of Habitat Fragmentation on Biodiversity.”</span> <em>Annual Review of Ecology, Evolution, and Systematics</em> 34 (1): 487–515.
</div>
<div id="ref-farnsworth2002removal" class="csl-entry" role="listitem">
Farnsworth, George L, Kenneth H Pollock, James D Nichols, Theodore R Simons, James E Hines, and John R Sauer. 2002. <span>“A Removal Model for Estimating Detection Probabilities from Point-Count Surveys.”</span> <em>The Auk</em> 119 (2): 414–25.
</div>
<div id="ref-gahbauer2022projected" class="csl-entry" role="listitem">
Gahbauer, Marcel A, Scott R Parker, Joanna X Wu, Cavan Harpur, Brooke L Bateman, Darroch M Whitaker, Douglas P Tate, Lotem Taylor, and Denis Lepage. 2022. <span>“Projected Changes in Bird Assemblages Due to Climate Change in a Canadian System of Protected Areas.”</span> <em>Plos One</em> 17 (1): e0262116.
</div>
<div id="ref-aru-vs-cams-wolves" class="csl-entry" role="listitem">
Garland, Laura, Andrew Crosby, Richard Hedley, Stan Boutin, and Erin Bayne. 2020. <span>“Acoustic Vs. Photographic Monitoring of Gray Wolves (<span class="nocase">Canis lupus</span>): A Methodological Comparison of Two Passive Monitoring Techniques.”</span> <em>Canadian Journal of Zoology</em> 98 (3): 219–28. <a href="https://doi.org/10.1139/cjz-2019-0081">https://doi.org/10.1139/cjz-2019-0081</a>.
</div>
<div id="ref-handel2004alaska" class="csl-entry" role="listitem">
Handel, C. M., and M. N. Cady. 2004. <span>“Alaska Landbird Monitoring Survey: Protocol for Setting up and Conducting Point Count Surveys.”</span> Technical Report 2004-3. Alaska Science Center: U.S. Geological Survey.
</div>
<div id="ref-hanski2011habitat" class="csl-entry" role="listitem">
Hanski, Ilkka. 2011. <span>“Habitat Loss, the Dynamics of Biodiversity, and a Perspective on Conservation.”</span> <em>Ambio</em> 40 (3): 248–55.
</div>
<div id="ref-knight2019classification" class="csl-entry" role="listitem">
Knight, Elly C, and Erin M Bayne. 2019. <span>“Classification Threshold and Training Data Affect the Quality and Utility of Focal Species Data Processed with Automated Audio-Recognition Software.”</span> <em>Bioacoustics</em> 28 (6): 539–54.
</div>
<div id="ref-lemieux2011state" class="csl-entry" role="listitem">
Lemieux, Christopher J, Thomas J Beechey, Daniel J Scott, and Paul A Gray. 2011. <span>“The State of Climate Change Adaptation in Canada’s Protected Areas Sector.”</span> <em>The Canadian Geographer/Le G<span>é</span>ographe Canadien</em> 55 (3): 301–17.
</div>
<div id="ref-Loeb_2015" class="csl-entry" role="listitem">
Loeb, Susan C., Thomas J. Rodhouse, Laura E. Ellison, Cori L. Lausen, Jonathan D. Reichard, Kathryn M. Irvine, Thomas E. Ingersoll, et al. 2015. <em>A Plan for the North American Bat Monitoring Program (NABat)</em>. U.S. Department of Agriculture, Forest Service, Southern Research Station. <a href="https://doi.org/10.2737/srs-gtr-208">https://doi.org/10.2737/srs-gtr-208</a>.
</div>
<div id="ref-Loeb2015" class="csl-entry" role="listitem">
Loeb, Susan C., Thomas J. Rodhouse, Lee E. Ellison, et al. 2015. <em>A Plan for the North American Bat Monitoring Program (NABat)</em>. Asheville, NC: U.S. Department of Agriculture, Forest Service, Southern Research Station. <a href="https://doi.org/10.1898/NWN21-10">https://doi.org/10.1898/NWN21-10</a>.
</div>
<div id="ref-lovett2013peepers" class="csl-entry" role="listitem">
Lovett, Gary M. 2013. <span>“When Do Peepers Peep? Climate and the Date of First Calling in the Spring Peeper (Pseudacris Crucifer) in Southeastern New York State.”</span> <em>Northeastern Naturalist</em> 20 (2): 333–40.
</div>
<div id="ref-occu-fit" class="csl-entry" role="listitem">
MacKenzie, Darryl I., and Larissa L. Bailey. 2004. <span>“Assessing the Fit of Site-Occupancy Models.”</span> <em>Journal of Agricultural, Biological, and Environmental Statistics</em> 9 (3): 300–318. <a href="http://www.jstor.org/stable/1400484">http://www.jstor.org/stable/1400484</a>.
</div>
<div id="ref-imperfect-occu" class="csl-entry" role="listitem">
MacKenzie, Darryl I., James D. Nichols, James E. Hines, Melinda G. Knutson, and Alan B. Franklin. 2003. <span>“ESTIMATING SITE OCCUPANCY, COLONIZATION, AND LOCAL EXTINCTION WHEN a SPECIES IS DETECTED IMPERFECTLY.”</span> <em>Ecology</em> 84 (8): 2200–2207. https://doi.org/<a href="https://doi.org/10.1890/02-3090">https://doi.org/10.1890/02-3090</a>.
</div>
<div id="ref-mackenzie2002estimating" class="csl-entry" role="listitem">
MacKenzie, Darryl I, James D Nichols, Gideon B Lachman, Sam Droege, J Andrew Royle, and Catherine A Langtimm. 2002. <span>“Estimating Site Occupancy Rates When Detection Probabilities Are Less Than One.”</span> <em>Ecology</em> 83 (8): 2248–55.
</div>
<div id="ref-mackenzie2009modeling" class="csl-entry" role="listitem">
MacKenzie, Darryl I, James D Nichols, Mark E Seamans, and RJ Gutiérrez. 2009. <span>“Modeling Species Occurrence Dynamics with Multiple States and Imperfect Detection.”</span> <em>Ecology</em> 90 (3): 823–35.
</div>
<div id="ref-mantyka2012interactions" class="csl-entry" role="listitem">
Mantyka-pringle, Chrystal S, Tara G Martin, and Jonathan R Rhodes. 2012. <span>“Interactions Between Climate and Habitat Loss Effects on Biodiversity: A Systematic Review and Meta-Analysis.”</span> <em>Global Change Biology</em> 18 (4): 1239–52.
</div>
<div id="ref-oksanen2010canonical" class="csl-entry" role="listitem">
Oksanen, Jari, Frank G Blanchet, Roeland Kindt, Pierre Legendre, Peter R Minchin, Robert B O’Hara, Gavin L Simpson, et al. 2010. <span>“Canonical Analysis of Principal Coordinates: A Useful Method of Constrained Ordination for Ecology.”</span> <em>Ecology</em> 92 (3): 597–611. <a href="https://doi.org/10.1890/10-0340.1">https://doi.org/10.1890/10-0340.1</a>.
</div>
<div id="ref-Petrikeev2019analysis" class="csl-entry" role="listitem">
Petrikeev, Michael. 2019. <span>“Forest Breeding Bird Abundance and Composition, Kluane National Park Reserve.”</span>
</div>
<div id="ref-Reichert2018" class="csl-entry" role="listitem">
Reichert, B., C. Lausen, S. Loeb, et al. 2018. <em>A Guide to Processing Bat Acoustic Data for the North American Bat Monitoring Program (NABat)</em>. U.S. Geological Survey. <a href="https://doi.org/10.1898/NWN21-10">https://doi.org/10.1898/NWN21-10</a>.
</div>
<div id="ref-reichert2018guide" class="csl-entry" role="listitem">
Reichert, Brian, Cori Lausen, Susan Loeb, Ted Weller, Ryan Allen, Eric Britzke, Tara Hohoff, et al. 2018. <span>“A Guide to Processing Bat Acoustic Data for the North American Bat Monitoring Program (NABat).”</span> US Geological Survey.
</div>
<div id="ref-sattar2021review" class="csl-entry" role="listitem">
Sattar, Q, ME Maqbool, R Ehsan, S Akhtar, Q Sattar, ME Maqbool, R Ehsan, and S Akhtar. 2021. <span>“Review on Climate Change and Its Effect on Wildlife and Ecosystem.”</span> <em>Open J Environ Biol</em> 6 (1): 008–14.
</div>
<div id="ref-shannon1948mathematical" class="csl-entry" role="listitem">
Shannon, Claude Elwood. 1948. <span>“A Mathematical Theory of Communication.”</span> <em>The Bell System Technical Journal</em> 27 (3): 379–423.
</div>
<div id="ref-aru-overview" class="csl-entry" role="listitem">
Shonfield, Julia, and Erin M Bayne. 2017. <span>“Autonomous Recording Units in Avian Ecological Research: Current Use and Future Applications.”</span> <em>Avian Conservation &amp; Ecology</em> 12 (1).
</div>
<div id="ref-shonfield2018utility" class="csl-entry" role="listitem">
Shonfield, Julia, Sarah Heemskerk, and Erin M Bayne. 2018. <span>“Utility of Automated Species Recognition for Acoustic Monitoring of Owls.”</span> <em>Journal of Raptor Research</em> 52 (1): 42–55.
</div>
<div id="ref-Slough2022" class="csl-entry" role="listitem">
Slough, B., C. Lausen, B. Paterson, et al. 2022. <span>“New Records about the Diversity, Distribution, and Seasonal Activity Patterns by Bats in Yukon and Northwestern British Columbia.”</span> <em>Northwest Naturalist</em> 103: 162–82. <a href="https://doi.org/10.1898/NWN21-10">https://doi.org/10.1898/NWN21-10</a>.
</div>
<div id="ref-slough2023little" class="csl-entry" role="listitem">
Slough, Brian G, Donald G Reid, Dafna S Schultz, and Maria C-Y Leung. 2023. <span>“Little Brown Bat Activity Patterns and Conservation Implications in Agricultural Landscapes in Boreal Yukon, Canada.”</span> <em>Ecosphere</em> 14 (3): e4446.
</div>
<div id="ref-Solick2022" class="csl-entry" role="listitem">
Solick, Daniel I. 2022. <span>“Bat Acoustic Species-Pair Matrix for Western u.s./Canada.”</span> Colorado: Vesper Bat Detection Services.
</div>
<div id="ref-solick2022coat" class="csl-entry" role="listitem">
Solick, Donald I, and Robert MR Barclay. 2022. <span>“Coat Color of Western Long-Eared Bats (Myotis Evotis) Living in Different Environments: A Test of Gloger’s Rule.”</span> <em>Northwestern Naturalist</em> 103 (2): 183–89.
</div>
<div id="ref-time-removal" class="csl-entry" role="listitem">
Sólymos, Péter, Steven M. Matsuoka, Steven G. Cumming, Diana Stralberg, Patricia Fontaine, Fiona K. A. Schmiegelow, Samantha J. Song, and Erin M. Bayne. 2018. <span>“<span class="nocase">Evaluating time-removal models for estimating availability of boreal birds during point count surveys: Sample size requirements and model complexity</span>.”</span> <em>The Condor</em> 120 (4): 765–86. <a href="https://doi.org/10.1650/CONDOR-18-32.1">https://doi.org/10.1650/CONDOR-18-32.1</a>.
</div>
<div id="ref-Szewczak2024western_na_bat_acoustic_table" class="csl-entry" role="listitem">
Sonobat. n.d. <span>“Western North America Bat Acoustic Table.”</span> <a href="https://sonobat.com/download/Western_NA_Bat_Acoustic_Table.pdf" class="uri">https://sonobat.com/download/Western_NA_Bat_Acoustic_Table.pdf</a>.
</div>
<div id="ref-lots-of-pam" class="csl-entry" role="listitem">
Sugai, Larissa Sayuri Moreira, Thiago Sanna Freire Silva, Jr Ribeiro José Wagner, and Diego Llusia. 2018. <span>“<span class="nocase">Terrestrial Passive Acoustic Monitoring: Review and Perspectives</span>.”</span> <em>BioScience</em> 69 (1): 15–25. <a href="https://doi.org/10.1093/biosci/biy147">https://doi.org/10.1093/biosci/biy147</a>.
</div>
<div id="ref-Szewczak2018" class="csl-entry" role="listitem">
Szewczak, Joe. 2018. <span>“Acoustic Features of Western US Bats.”</span> Arcata, California: Humboldt State University.
</div>
<div id="ref-arus-mics" class="csl-entry" role="listitem">
Turgeon, Patrick, Steven L. Van Wilgenburg, and Kiel L. Drake. 2017. <span>“Microphone Variability and Degradation: Implications for Monitoring Programs Employing Autonomous Recording Units.”</span> <em>Avian Conservation and Ecology</em> 12. <a href="https://api.semanticscholar.org/CorpusID:89959184">https://api.semanticscholar.org/CorpusID:89959184</a>.
</div>
<div id="ref-all-the-scans" class="csl-entry" role="listitem">
Ware, Lena, C. Lisa Mahon, Logan McLeod, and Jean-François Jetté. 2023. <span>“Artificial Intelligence (BirdNET) Supplements Manual Methods to Maximize Bird Species Richness from Acoustic Data Sets Generated from Regional Monitoring.”</span> <em>Canadian Journal of Zoology</em> 101 (12): 1031–51. <a href="https://doi.org/10.1139/cjz-2023-0044">https://doi.org/10.1139/cjz-2023-0044</a>.
</div>
</div></section></div></main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>